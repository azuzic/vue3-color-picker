(function(P,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(P=typeof globalThis<"u"?globalThis:P||self,e(P.Vue3ColorPicker={},P.Vue))})(this,function(P,e){"use strict";const xe={key:1,width:"16",height:"16",viewBox:"-12 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},Se=[e.createElementVNode("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],$e=e.defineComponent({__name:"ColorInputMenu",props:{iconClass:{default:"",type:String},inputType:{default:"RGB",type:String}},emits:["onChangeInputName"],setup(a,{emit:m}){const c=a,s=e.ref(c.inputType),r=["CMYK","HSL","HSV","RGB"],i=m,f=()=>{const y=r.findIndex(o=>o==s.value),V=r[y+1]?r[y+1]:r[0];s.value=V,i("onChangeInputName",V)};return(y,V)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"cp-btn",onClick:f},[e.createTextVNode(e.toDisplayString(s.value)+" ",1),a.iconClass?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(a.iconClass)},null,2)):(e.openBlock(),e.createElementBlock("svg",xe,Se))]))}}),Ee={class:"ck-cp-menu"},Ie={class:"ck-cp-controller-bar",style:{display:"flex","justify-content":"end",position:"relative","flex-grow":"1"}},Me={key:1,width:"16",height:"16",viewBox:"-12 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},ze=[e.createElementVNode("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],Le={key:1,width:"16",height:"16",viewBox:"-12 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},De=[e.createElementVNode("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],ve={key:1,width:"15",height:"28",viewBox:"0 -3 36 36",xmlns:"http://www.w3.org/2000/svg"},Ye=[e.createStaticVNode('<path d="M29.333 9.667h-8c-0.547 0-1-0.453-1-1s0.453-1 1-1h8c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M8 9.667h-5.333c-0.547 0-1-0.453-1-1s0.453-1 1-1h5.333c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M13.333 14.333c-3.12 0-5.667-2.547-5.667-5.667s2.547-5.667 5.667-5.667c3.12 0 5.667 2.547 5.667 5.667s-2.547 5.667-5.667 5.667zM13.333 5c-2.027 0-3.667 1.64-3.667 3.667s1.64 3.667 3.667 3.667c2.027 0 3.667-1.64 3.667-3.667s-1.64-3.667-3.667-3.667z"></path><path d="M29.333 24.333h-5.333c-0.547 0-1-0.453-1-1s0.453-1 1-1h5.333c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M10.667 24.333h-8c-0.547 0-1-0.453-1-1s0.453-1 1-1h8c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M18.667 29c-3.12 0-5.667-2.547-5.667-5.667s2.547-5.667 5.667-5.667c3.12 0 5.667 2.547 5.667 5.667s-2.547 5.667-5.667 5.667zM18.667 19.667c-2.027 0-3.667 1.64-3.667 3.667s1.64 3.667 3.667 3.667c2.027 0 3.667-1.64 3.667-3.667s-1.64-3.667-3.667-3.667z"></path>',6)],He={key:0,class:"ck-cp-linear-angle-container"},Xe={class:"ck-gradient-set-label",style:{"margin-top":"0"}},Te=["value"],Re={key:1,class:"ck-cp-linear-angle-container"},Pe={class:"ck-gradient-set-label",style:{"margin-top":"0"}},Oe=["value"],Ue={class:"ck-gradient-set-label"},Ge=["value"],qe={class:"ck-cp-input-container",style:{"margin-left":"2px","margin-right":"2px"}},Ae={class:"ck-cp-input-content"},Fe=e.createElementVNode("span",{class:"ck-cp-input-label"}," Position X ",-1),We=["value"],je={class:"ck-cp-input-content"},Ze=e.createElementVNode("span",{class:"ck-cp-input-label"}," Position Y ",-1),Ke=["value"],Je={class:"ck-cp-checkbox-container"},_e={class:"ck-cp-checkbox",for:"customSize"},Qe={key:0,class:"ck-cp-input-checkbox-checked"},et=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e.createElementVNode("path",{d:"m10 13.6l5.9-5.9q.275-.275.7-.275t.7.275t.275.7t-.275.7l-6.6 6.6q-.3.3-.7.3t-.7-.3l-2.6-2.6q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275z"})],-1)],tt={key:1,class:"ck-cp-input-checkbox-unchecked"},lt={class:"ck-cp-checkbox-label"},nt={key:0},at={class:"ck-gradient-set-label"},ot=["value"],st={key:1},rt={class:"ck-gradient-set-label"},ct=["value"],it={key:2,class:"ck-cp-input-container",style:{"margin-left":"2px","margin-right":"2px"}},dt={class:"ck-cp-input-content"},ut=e.createElementVNode("span",{class:"ck-cp-input-label"}," Size X ",-1),pt=["value"],mt={class:"ck-cp-input-content"},gt=e.createElementVNode("span",{class:"ck-cp-input-label"}," Size Y ",-1),ht=["value"],ft=e.defineComponent({__name:"PickerMenu",props:{mode:{default:"gradient",type:String},inputType:{default:"RGB",type:String},gradientType:{default:"linear",type:String},showInputMenu:{default:!0,type:Boolean},showPickerMode:{default:!0,type:Boolean},angle:{default:90,type:Number},percentageX:{default:50,type:Number},percentageY:{default:50,type:Number},percentageSizeX:{default:50,type:Number},percentageSizeY:{default:50,type:Number},customSize:{default:!1,type:Boolean},local:{default:{},type:Object},iconClasses:{default:{ruler:"",eyeDroper:"",arrowDown:"",save:"",delete:""},type:Object}},emits:["onPickerChangeMode","onChangeMode","onChangeInputType","onDeleteColor","onClickEyeDropper","update:angle","update:percentageX","update:percentageY","update:percentageSizeX","update:percentageSizeY","update:customSize","onInput"],setup(a,{emit:m}){const c=a,s=e.ref(!1),r=m,i=(o,u)=>{switch(u){case"angle":r("update:angle",parseInt(o.target.value)),r("onInput");break;case"percentageX":r("update:percentageX",parseInt(o.target.value)),r("onInput");break;case"percentageY":r("update:percentageY",parseInt(o.target.value)),r("onInput");break;case"percentageSizeX":r("update:percentageSizeX",parseInt(o.target.value)),r("onInput");break;case"percentageSizeY":r("update:percentageSizeY",parseInt(o.target.value)),r("onInput");break;case"customSize":r("update:customSize",o.target.checked),r("onInput");break}},f=o=>{r("onChangeInputType",o)},y=()=>{r("onChangeMode",c.gradientType=="linear"?"radial":"linear")},V=()=>{r("onPickerChangeMode",c.mode=="gradient"?"solid":"gradient")};return(o,u)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Ee,[e.createElementVNode("div",Ie,[a.showPickerMode?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:"cp-btn",onClick:V,style:{"margin-bottom":"var(--margin-top)"}},[e.withDirectives(e.createElementVNode("span",null,e.toDisplayString(a.local.gradient?a.local.gradient:"Gradient"),513),[[e.vShow,a.mode=="gradient"]]),e.withDirectives(e.createElementVNode("span",null,e.toDisplayString(a.local.solid?a.local.solid:"Solid"),513),[[e.vShow,a.mode=="solid"]]),a.iconClasses.arrowDown?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(a.iconClasses.arrowDown)},null,2)):(e.openBlock(),e.createElementBlock("svg",Me,ze))])):e.createCommentVNode("",!0),a.mode=="gradient"?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"cp-btn",style:{"margin-bottom":"var(--margin-top)"},onClick:y},[e.withDirectives(e.createElementVNode("span",null,e.toDisplayString(a.local.linear?a.local.linear:"Linear"),513),[[e.vShow,a.gradientType=="linear"]]),e.withDirectives(e.createElementVNode("span",null,e.toDisplayString(a.local.radial?a.local.radial:"Radial"),513),[[e.vShow,a.gradientType=="radial"]]),a.iconClasses.arrowDown?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(a.iconClasses.arrowDown)},null,2)):(e.openBlock(),e.createElementBlock("svg",Le,De))])):e.createCommentVNode("",!0),a.showInputMenu?(e.openBlock(),e.createBlock($e,{key:2,style:{"margin-bottom":"var(--margin-top)"},iconClass:a.iconClasses.arrowDown,inputType:a.inputType,onOnChangeInputName:f},null,8,["iconClass","inputType"])):e.createCommentVNode("",!0),a.mode=="gradient"?(e.openBlock(),e.createElementBlock("button",{key:3,type:"button",class:"cp-btn",style:{"margin-bottom":"var(--margin-top)"},onClick:u[0]||(u[0]=h=>s.value=!s.value)},[a.iconClasses.ruler?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(a.iconClasses.ruler)},null,2)):(e.openBlock(),e.createElementBlock("svg",ve,Ye))])):e.createCommentVNode("",!0)])]),a.mode=="gradient"?e.withDirectives((e.openBlock(),e.createElementBlock("div",He,[e.createElementVNode("div",null,[e.createElementVNode("p",Xe,[e.createTextVNode(e.toDisplayString(a.local.angle?a.local.angle:"Angle")+" ",1),e.createElementVNode("span",null,e.toDisplayString(a.angle)+"Â°",1)]),e.createElementVNode("input",{type:"range",min:"0",max:"360",value:a.angle,onInput:u[1]||(u[1]=h=>i(h,"angle"))},null,40,Te)])],512)),[[e.vShow,a.gradientType=="linear"&&s.value]]):e.createCommentVNode("",!0),a.mode=="gradient"&&s.value?e.withDirectives((e.openBlock(),e.createElementBlock("div",Re,[e.createElementVNode("div",null,[e.createElementVNode("p",Pe,[e.createTextVNode(e.toDisplayString(a.local.positionX?a.local.positionX:"Position X")+" ",1),e.createElementVNode("span",null,e.toDisplayString(a.percentageX)+"%",1)]),e.createElementVNode("input",{type:"range",min:"0",max:"100",value:a.percentageX,onInput:u[2]||(u[2]=h=>i(h,"percentageX"))},null,40,Oe)]),e.createElementVNode("div",null,[e.createElementVNode("p",Ue,[e.createTextVNode(e.toDisplayString(a.local.positionY?a.local.positionY:"Position Y")+" ",1),e.createElementVNode("span",null,e.toDisplayString(a.percentageY)+"%",1)]),e.createElementVNode("input",{type:"range",min:"0",max:"100",value:a.percentageY,onInput:u[3]||(u[3]=h=>i(h,"percentageY"))},null,40,Ge)]),e.createElementVNode("div",qe,[e.createElementVNode("div",Ae,[Fe,e.createElementVNode("input",{type:"number",value:a.percentageX,onInput:u[4]||(u[4]=h=>i(h,"percentageX"))},null,40,We)]),e.createElementVNode("div",je,[Ze,e.createElementVNode("input",{type:"number",value:a.percentageY,onInput:u[5]||(u[5]=h=>i(h,"percentageY"))},null,40,Ke)])]),e.createElementVNode("div",Je,[e.createElementVNode("label",_e,[a.customSize?(e.openBlock(),e.createElementBlock("div",Qe,et)):(e.openBlock(),e.createElementBlock("div",tt)),e.createElementVNode("input",{id:"customSize",type:"checkbox",onInput:u[6]||(u[6]=h=>i(h,"customSize"))},null,32)]),e.createElementVNode("div",lt,e.toDisplayString(a.customSize?"Custom":"Circle"),1)]),a.customSize?(e.openBlock(),e.createElementBlock("div",nt,[e.createElementVNode("p",at,[e.createTextVNode(e.toDisplayString(a.local.sizeX?a.local.sizeX:"Size X")+" ",1),e.createElementVNode("span",null,e.toDisplayString(a.percentageSizeX)+"%",1)]),e.createElementVNode("input",{type:"range",min:"0",max:"100",value:a.percentageSizeX,onInput:u[7]||(u[7]=h=>i(h,"percentageSizeX"))},null,40,ot)])):e.createCommentVNode("",!0),a.customSize?(e.openBlock(),e.createElementBlock("div",st,[e.createElementVNode("p",rt,[e.createTextVNode(e.toDisplayString(a.local.sizeY?a.local.sizeY:"Size Y")+" ",1),e.createElementVNode("span",null,e.toDisplayString(a.percentageSizeY)+"%",1)]),e.createElementVNode("input",{type:"range",min:"0",max:"100",value:a.percentageSizeY,onInput:u[8]||(u[8]=h=>i(h,"percentageSizeY"))},null,40,ct)])):e.createCommentVNode("",!0),a.customSize?(e.openBlock(),e.createElementBlock("div",it,[e.createElementVNode("div",dt,[ut,e.createElementVNode("input",{type:"number",value:a.percentageSizeX,onInput:u[9]||(u[9]=h=>i(h,"percentageSizeX"))},null,40,pt)]),e.createElementVNode("div",mt,[gt,e.createElementVNode("input",{type:"number",value:a.percentageSizeY,onInput:u[10]||(u[10]=h=>i(h,"percentageSizeY"))},null,40,ht)])])):e.createCommentVNode("",!0)],512)),[[e.vShow,a.gradientType=="radial"]]):e.createCommentVNode("",!0)],64))}}),kt=e.defineComponent({__name:"GradientBar",emits:["onAddColor","onMouseDown"],setup(a,{emit:m}){const c=e.inject("gradientBar"),s=r=>{r.preventDefault()};return(r,i)=>(e.openBlock(),e.createElementBlock("div",{class:"gradient-bar",onMousedown:i[1]||(i[1]=f=>r.$emit("onMouseDown",f)),onDragstart:s},[e.createElementVNode("div",{ref_key:"gradientBar",ref:c,class:"gradient-container",onDblclick:i[0]||(i[0]=f=>r.$emit("onAddColor",f))},null,544)],32))}}),yt=e.createElementVNode("div",{class:"colour-area-mask"},null,-1),bt=e.defineComponent({__name:"PickerWrap",emits:["onMouseDown"],setup(a){const m=e.inject("canvas"),c=e.inject("pickerWrap"),s=e.inject("pickerPointer"),r=i=>{i.preventDefault()};return(i,f)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrap",ref:c,class:"cp-picker-wrap",onMousedown:f[0]||(f[0]=y=>i.$emit("onMouseDown",y)),onDragstart:r},[e.createElementVNode("canvas",{ref_key:"canvas",ref:m,class:"colour-area"},null,512),yt,e.createElementVNode("div",{ref_key:"pickerPointer",ref:s,class:"colour-area-point-circle"},null,512)],544))}}),Ct={class:"picker-hue"},Vt=["value"],Nt=e.defineComponent({__name:"PickerHue",props:{modelValue:{default:0,type:Number}},emits:["update:modelValue","onInput","onChange"],setup(a,{emit:m}){const c=m,s=r=>{c("update:modelValue",parseFloat(r.target.value)),c("onInput",r)};return(r,i)=>(e.openBlock(),e.createElementBlock("div",Ct,[e.createElementVNode("input",{value:a.modelValue,class:"picker-hue-range-slider",type:"range",min:"0",max:"360",step:"0.1",onInput:s,onChange:i[0]||(i[0]=f=>r.$emit("onChange",f))},null,40,Vt)]))}}),wt={class:"opacity-bar"},Bt=["value"],xt=e.defineComponent({__name:"OpacityBar",props:{modelValue:{default:0,type:Number}},emits:["update:modelValue","onInput"],setup(a,{emit:m}){const c=e.inject("opacitySlider"),s=m,r=i=>{s("update:modelValue",parseInt(i.target.value)),s("onInput",i)};return(i,f)=>(e.openBlock(),e.createElementBlock("div",wt,[e.createElementVNode("input",{ref_key:"opacitySlider",ref:c,value:a.modelValue,class:"opacity_slider",type:"range",min:"0",max:"100",onInput:r},null,40,Bt)]))}}),St={class:"ck-cp-input-content"},$t={class:"ck-cp-input-label"},Et=["min","max","value"],z=e.defineComponent({__name:"InputNumber",props:{label:{default:"",type:String},modelValue:{default:0,type:Number},min:{default:0,type:Number},max:{default:100,type:Number}},emits:["update:modelValue"],setup(a,{emit:m}){const c=a,s=m,r=e.ref(c.modelValue);e.watch(()=>c.modelValue,(o,u)=>{o!==u&&(r.value=o)},{immediate:!0});const i=o=>{const u=B=>{r.value=B,s("update:modelValue",B)},h=o.target.value;if(!h)return u(c.modelValue);if(parseInt(h)>c.max)return u(c.max);s("update:modelValue",parseInt(h))},f=o=>{r.value=o.target.value},y=o=>{if(["KeyE","Equal","Equal","Backslash","Slash","NumpadDecimal","NumpadAdd"].includes(o.code))return o.preventDefault();o.code==="Enter"&&i(o)},V=i;return(o,u)=>(e.openBlock(),e.createElementBlock("div",St,[e.createElementVNode("span",$t,e.toDisplayString(a.label),1),e.createElementVNode("input",{type:"number",min:a.min,max:a.max,value:r.value,onInput:f,onKeydown:y,onFocusout:u[0]||(u[0]=(...h)=>e.unref(V)&&e.unref(V)(...h))},null,40,Et)]))}}),It={class:"ck-cp-input-content color-hex"},Mt=e.createElementVNode("span",{class:"ck-cp-input-label"},"HEX",-1),zt=["value"],Lt=e.defineComponent({__name:"InputHex",props:{modelValue:{}},emits:["update:modelValue"],setup(a,{emit:m}){const c=a,s=m,r=e.ref(""),i=o=>{const u=o.target.value;r.value=u,r.value=`#${u.replace(/#/g,"")}`},f=o=>{const u=o.target.value;if(u===c.modelValue)return;if(!/^#[0-9a-fA-F]+$/.test(u)){r.value=c.modelValue;return}let h=u.replace(/#/g,"");switch(h.length){case 0:h=c.modelValue.replace("#","");break;case 1:case 2:h=h.repeat(3);break;case 4:case 5:h=h.slice(0,3);break;case 3:case 6:break;default:h=h.slice(0,6)}r.value=`#${h.toUpperCase()}`,s("update:modelValue",r.value)},y=o=>{o.code==="Enter"&&f(o)},V=f;return e.watch(()=>c.modelValue,(o,u)=>{o!==u&&(r.value=o)},{immediate:!0}),(o,u)=>(e.openBlock(),e.createElementBlock("div",It,[Mt,e.createElementVNode("input",{type:"text",value:r.value,onInput:i,onKeydown:y,onFocusout:u[0]||(u[0]=(...h)=>e.unref(V)&&e.unref(V)(...h))},null,40,zt)]))}}),Dt=a=>{const m=/^rgb\((\s*\d+\s*),(\s*\d+\s*),(\s*\d+\s*)\)$/i;if(!m.test(a))return null;const c=m.exec(a);if(!c)return null;const s=parseInt(c[1].trim(),10),r=parseInt(c[2].trim(),10),i=parseInt(c[3].trim(),10);return{r:s,g:r,b:i}},vt=a=>{const m=/^rgba?\((\s*\d+\s*),(\s*\d+\s*),(\s*\d+\s*),(\s*[\d.]+\s*)\)$/i;if(!m.test(a))return null;const c=m.exec(a);if(!c)return null;const s=parseInt(c[1].trim(),10),r=parseInt(c[2].trim(),10),i=parseInt(c[3].trim(),10),f=parseFloat(c[4].trim());return{r:s,g:r,b:i,a:f}},Yt=a=>{const m=/^#?([a-f\d]{8})$/i;if(!m.test(a))return null;const c=m.exec(a);if(!c)return null;const s=c[1],r=s.substring(6,8),i=parseInt(s.substring(0,2),16),f=parseInt(s.substring(2,4),16),y=parseInt(s.substring(4,6),16),V=parseInt(r,16)/255;return{r:i,g:f,b:y,a:V}},Ht=(a,m,c,s)=>{function r(o){const u=o.toString(16);return u.length===1?"0"+u:u}const i=r(Math.round(a)),f=r(Math.round(m)),y=r(Math.round(c)),V=r(Math.round(s*255));return`#${i}${f}${y}${V}`},_=a=>{var m;try{let c=(m=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(f,y,V,o)=>"#"+y+y+V+V+o+o).substring(1).match(/.{2}/g))==null?void 0:m.map(f=>parseInt(f,16)),s=c==null?void 0:c[0],r=c==null?void 0:c[1],i=c==null?void 0:c[2];return Number.isNaN(s)||Number.isNaN(r)||Number.isNaN(i)||s===void 0||r===void 0||i===void 0?null:{r:s,g:r,b:i}}catch{return null}},U=(a,m,c)=>{a=a/255,m=m/255,c=c/255;const s=Math.max(a,m,c),r=Math.min(a,m,c);let i;return s===a?i=(m-c)/(s-r):s===m?i=2+(c-a)/(s-r):i=4+(a-m)/(s-r),i*=60,i<0&&(i+=360),Number.isNaN(i)&&(i=0),i},Xt=(a,m,c)=>{m=m/100,c=c/100;let s,r,i,f=[];return s=(1-Math.abs(2*c-1))*m,r=s*(1-Math.abs(a/60%2-1)),i=c-s/2,a>=0&&a<60&&(f=[s,r,0]),a>=60&&a<120&&(f=[r,s,0]),a>=120&&a<180&&(f=[0,s,r]),a>=180&&a<240&&(f=[0,r,s]),a>=240&&a<300&&(f=[r,0,s]),a>=300&&a<=360&&(f=[s,0,r]),f.map(y=>Math.round(255*(y+i)))},ne=(a,m,c)=>"#"+(16777216+(c|m<<8|a<<16)).toString(16).slice(1),ie=(a,m,c)=>{let s=Xt(a,m,c);return{rgb:s,hexA:ne(s[0],s[1],s[2])}},de=(a,m,c)=>{let s,r,i,f,y,V,o=0,u=[];for(u[0]=a/255,u[1]=m/255,u[2]=c/255,s=u[0],r=u[0],V=0,i=0;i<u.length-1;i++)u[i+1]<=s&&(s=u[i+1]),u[i+1]>=r&&(r=u[i+1],V=i+1);return V===0&&(o=(u[1]-u[2])/(r-s)),V===1&&(o=2+(u[2]-u[0])/(r-s)),V===2&&(o=4+(u[0]-u[1])/(r-s)),isNaN(o)&&(o=0),o=o*60,o<0&&(o=o+360),f=(s+r)/2,s===r?y=0:f<.5?y=(r-s)/(r+s):y=(r-s)/(2-r-s),y=y,{h:o,s:y,l:f}},ue=(a,m,c)=>{a=a%360/360,m=Math.min(1,Math.max(0,m)),c=Math.min(1,Math.max(0,c));let s,r,i;if(m===0)s=r=i=c;else{const f=(o,u,h)=>(h<0&&(h+=1),h>1&&(h-=1),h<.16666666666666666?o+(u-o)*6*h:h<.5?u:h<.6666666666666666?o+(u-o)*(.6666666666666666-h)*6:o),y=c<.5?c*(1+m):c+m-c*m,V=2*c-y;s=f(V,y,a+1/3),r=f(V,y,a),i=f(V,y,a-1/3)}return s=Math.round(s*255),r=Math.round(r*255),i=Math.round(i*255),{r:s,g:r,b:i}},Tt=(a,m,c)=>{let s=0,r=0,i=0;const f=a/60,y=c*m,V=y*(1-Math.abs(f%2-1)),o=c-y;switch(Math.floor(f)%6){case 0:s=y,r=V,i=0;break;case 1:s=V,r=y,i=0;break;case 2:s=0,r=y,i=V;break;case 3:s=0,r=V,i=y;break;case 4:s=V,r=0,i=y;break;case 5:s=y,r=0,i=V;break}return{r:Math.round((s+o)*255),g:Math.round((r+o)*255),b:Math.round((i+o)*255)}},Rt=(a,m,c)=>{a/=255,m/=255,c/=255;const s=Math.max(a,m,c),r=Math.min(a,m,c);let i,f,y=s;const V=s-r;if(s!==0)f=V/s;else return{h:0,s:0,v:0};return V===0?i=0:s===a?i=60*((m-c)/V%6):s===m?i=60*((c-a)/V+2):i=60*((a-m)/V+4),i<0&&(i+=360),{h:Math.round(i),s:Math.round(f*100)/100,v:Math.round(y*100)/100}},Pt=(a,m,c)=>{const s=(2-m)*c/2,r=s&&s<1?m*c/(s<.5?s*2:2-s*2):m;return{h:a,s:r,l:s}},Ot=(a,m,c,s)=>{const r=Math.round(255*(1-a)*(1-s)),i=Math.round(255*(1-m)*(1-s)),f=Math.round(255*(1-c)*(1-s));return{r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,i)),b:Math.min(255,Math.max(0,f))}},Ut=(a,m,c)=>{a=a/255,m=m/255,c=c/255;const s=1-Math.max(a,m,c),r=(1-a-s)/(1-s),i=(1-m-s)/(1-s),f=(1-c-s)/(1-s);return{c:isNaN(r)?0:r,m:isNaN(i)?0:i,y:isNaN(f)?0:f,k:isNaN(s)?0:s}},Gt={class:"ck-cp-local-color-conatiner"},qt={class:"ck-cp-color-list-label"},At={style:{display:"flex","align-items":"center"}},Ft={key:1,width:"32",height:"14",viewBox:"5 -5 32 32",xmlns:"http://www.w3.org/2000/svg"},Wt=[e.createElementVNode("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],jt={key:1,width:"18",height:"18",viewBox:"-2 -2 30 30",xmlns:"http://www.w3.org/2000/svg"},Zt=[e.createStaticVNode('<path d="M20.9997 6.72998C20.9797 6.72998 20.9497 6.72998 20.9197 6.72998C15.6297 6.19998 10.3497 5.99998 5.11967 6.52998L3.07967 6.72998C2.65967 6.76998 2.28967 6.46998 2.24967 6.04998C2.20967 5.62998 2.50967 5.26998 2.91967 5.22998L4.95967 5.02998C10.2797 4.48998 15.6697 4.69998 21.0697 5.22998C21.4797 5.26998 21.7797 5.63998 21.7397 6.04998C21.7097 6.43998 21.3797 6.72998 20.9997 6.72998Z"></path><path d="M8.50074 5.72C8.46074 5.72 8.42074 5.72 8.37074 5.71C7.97074 5.64 7.69074 5.25 7.76074 4.85L7.98074 3.54C8.14074 2.58 8.36074 1.25 10.6907 1.25H13.3107C15.6507 1.25 15.8707 2.63 16.0207 3.55L16.2407 4.85C16.3107 5.26 16.0307 5.65 15.6307 5.71C15.2207 5.78 14.8307 5.5 14.7707 5.1L14.5507 3.8C14.4107 2.93 14.3807 2.76 13.3207 2.76H10.7007C9.64074 2.76 9.62074 2.9 9.47074 3.79L9.24074 5.09C9.18074 5.46 8.86074 5.72 8.50074 5.72Z"></path><path d="M15.2104 22.7501H8.79039C5.30039 22.7501 5.16039 20.8201 5.05039 19.2601L4.40039 9.19007C4.37039 8.78007 4.69039 8.42008 5.10039 8.39008C5.52039 8.37008 5.87039 8.68008 5.90039 9.09008L6.55039 19.1601C6.66039 20.6801 6.70039 21.2501 8.79039 21.2501H15.2104C17.3104 21.2501 17.3504 20.6801 17.4504 19.1601L18.1004 9.09008C18.1304 8.68008 18.4904 8.37008 18.9004 8.39008C19.3104 8.42008 19.6304 8.77007 19.6004 9.19007L18.9504 19.2601C18.8404 20.8201 18.7004 22.7501 15.2104 22.7501Z"></path><path d="M13.6601 17.25H10.3301C9.92008 17.25 9.58008 16.91 9.58008 16.5C9.58008 16.09 9.92008 15.75 10.3301 15.75H13.6601C14.0701 15.75 14.4101 16.09 14.4101 16.5C14.4101 16.91 14.0701 17.25 13.6601 17.25Z"></path><path d="M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z"></path>',5)],Kt={class:"ck-cp-color-list"},Jt=["onClick"],_t={key:1,width:"25",height:"25",viewBox:"2 2 20 20",xmlns:"http://www.w3.org/2000/svg"},Qt=[e.createElementVNode("path",{d:"M18 12.75H6C5.59 12.75 5.25 12.41 5.25 12C5.25 11.59 5.59 11.25 6 11.25H18C18.41 11.25 18.75 11.59 18.75 12C18.75 12.41 18.41 12.75 18 12.75Z"},null,-1),e.createElementVNode("path",{d:"M12 18.75C11.59 18.75 11.25 18.41 11.25 18V6C11.25 5.59 11.59 5.25 12 5.25C12.41 5.25 12.75 5.59 12.75 6V18C12.75 18.41 12.41 18.75 12 18.75Z"},null,-1)],el=e.defineComponent({__name:"HistoryColorList",props:{colorListCount:{default:10,type:Number},hexVal:{default:"",type:String},title:{default:"",type:String},iconClasses:{default:{ruler:"",eyeDroper:"",arrowDown:"",save:"",delete:""},type:Object}},emits:["color-item-click"],setup(a,{emit:m}){const c=a,s=m,r=e.ref([]),i=e.computed(()=>r.value.some(o=>o.selected==!0)),f=()=>{if(!r.value.find(u=>u.color===c.hexVal)){const u=r.value.find(h=>h.selected==!0);if(u)u.color=c.hexVal;else{r.value.length===c.colorListCount&&r.value.pop();let h=c.hexVal;r.value.unshift({color:h,selected:!1})}localStorage.setItem("ck-cp-local-color-list",JSON.stringify(r.value.map(h=>h.color)))}},y=()=>{r.value=r.value.filter(o=>o.selected==!1),localStorage.setItem("ck-cp-local-color-list",JSON.stringify(r.value.map(o=>o.color)))},V=o=>{r.value.forEach(u=>{u.color===o?u.selected=!u.selected:u.selected=!1}),s("color-item-click",o)};return e.onBeforeMount(()=>{let o=localStorage.getItem("ck-cp-local-color-list");if(o){let u=JSON.parse(o);r.value=u.map(h=>({color:h,selected:!1}))}}),(o,u)=>(e.openBlock(),e.createElementBlock("div",Gt,[e.createElementVNode("div",qt,[e.createElementVNode("div",At,[e.createTextVNode(e.toDisplayString(a.title?a.title:"Color Palette")+" ",1),a.iconClasses.arrowDown?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(a.iconClasses.arrowDown)},null,2)):(e.openBlock(),e.createElementBlock("svg",Ft,Wt))]),i.value?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:"cp-main-btn",onClick:y,style:{width:"17.33px",height:"17.33px"}},[a.iconClasses.delete?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(a.iconClasses.delete)},null,2)):(e.openBlock(),e.createElementBlock("svg",jt,Zt))])):e.createCommentVNode("",!0)]),e.createElementVNode("div",Kt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,h=>(e.openBlock(),e.createElementBlock("div",{key:`color-${h.color}`,class:e.normalizeClass(["ck-cp-color-item",h.selected?"ck-select":""]),style:e.normalizeStyle({backgroundColor:h.color}),onClick:B=>V(h.color)},null,14,Jt))),128)),e.createElementVNode("button",{type:"button",class:"cp-btn-save-color",onClick:f},[a.iconClasses.save?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(a.iconClasses.save)},null,2)):(e.openBlock(),e.createElementBlock("svg",_t,Qt))])])]))}}),tl=["cp-theme"],ll={key:0,style:{display:"flex","align-items":"center",gap:"8px","margin-top":"calc(var(--margin-top) * 1.35)",padding:"var(--padding)"}},nl={key:1,width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},al=[e.createStaticVNode('<path d="M20.9997 6.72998C20.9797 6.72998 20.9497 6.72998 20.9197 6.72998C15.6297 6.19998 10.3497 5.99998 5.11967 6.52998L3.07967 6.72998C2.65967 6.76998 2.28967 6.46998 2.24967 6.04998C2.20967 5.62998 2.50967 5.26998 2.91967 5.22998L4.95967 5.02998C10.2797 4.48998 15.6697 4.69998 21.0697 5.22998C21.4797 5.26998 21.7797 5.63998 21.7397 6.04998C21.7097 6.43998 21.3797 6.72998 20.9997 6.72998Z"></path><path d="M8.50074 5.72C8.46074 5.72 8.42074 5.72 8.37074 5.71C7.97074 5.64 7.69074 5.25 7.76074 4.85L7.98074 3.54C8.14074 2.58 8.36074 1.25 10.6907 1.25H13.3107C15.6507 1.25 15.8707 2.63 16.0207 3.55L16.2407 4.85C16.3107 5.26 16.0307 5.65 15.6307 5.71C15.2207 5.78 14.8307 5.5 14.7707 5.1L14.5507 3.8C14.4107 2.93 14.3807 2.76 13.3207 2.76H10.7007C9.64074 2.76 9.62074 2.9 9.47074 3.79L9.24074 5.09C9.18074 5.46 8.86074 5.72 8.50074 5.72Z"></path><path d="M15.2104 22.7501H8.79039C5.30039 22.7501 5.16039 20.8201 5.05039 19.2601L4.40039 9.19007C4.37039 8.78007 4.69039 8.42008 5.10039 8.39008C5.52039 8.37008 5.87039 8.68008 5.90039 9.09008L6.55039 19.1601C6.66039 20.6801 6.70039 21.2501 8.79039 21.2501H15.2104C17.3104 21.2501 17.3504 20.6801 17.4504 19.1601L18.1004 9.09008C18.1304 8.68008 18.4904 8.37008 18.9004 8.39008C19.3104 8.42008 19.6304 8.77007 19.6004 9.19007L18.9504 19.2601C18.8404 20.8201 18.7004 22.7501 15.2104 22.7501Z"></path><path d="M13.6601 17.25H10.3301C9.92008 17.25 9.58008 16.91 9.58008 16.5C9.58008 16.09 9.92008 15.75 10.3301 15.75H13.6601C14.0701 15.75 14.4101 16.09 14.4101 16.5C14.4101 16.91 14.0701 17.25 13.6601 17.25Z"></path><path d="M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z"></path>',5)],ol={style:{display:"flex","align-items":"center",gap:"8px","margin-top":"calc(var(--margin-top) * 1.35)",padding:"var(--padding)"}},sl=e.createElementVNode("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"3 2 28 28"},[e.createElementVNode("path",{d:"M27.014 2.891l-0.058-0.058c-1.106-1.11-2.911-1.11-4.022 0l-2.515 2.515-0.072-0.072c-0.603-0.603-1.584-0.603-2.216 0.024-0.599 0.603-0.599 1.584 0 2.187l0.072 0.072-8.034 8.039c-1.135 1.13-1.878 2.617-2.1 4.2l-1.217 1.453c-0.483 0.483-0.483 1.265 0 1.743 0.241 0.246 0.565 0.367 0.883 0.367 0.304 0 0.608-0.111 0.826-0.338l1.487-1.241c1.584-0.227 3.071-0.97 4.205-2.1l8.034-8.039 0.072 0.072c0.299 0.299 0.69 0.449 1.086 0.449 0.401 0 0.811-0.159 1.13-0.478 0.29-0.29 0.449-0.676 0.449-1.091s-0.159-0.801-0.449-1.096l-0.072-0.068 2.515-2.515c1.106-1.11 1.106-2.916-0.005-4.027zM13.568 18.997c-1.014 1.014-2.356 1.671-3.78 1.844-0.092 0.014-0.179 0.048-0.251 0.111l-1.622 1.361c-0.106 0.106-0.275 0.106-0.381 0-0.101-0.106-0.101-0.275 0.029-0.41l1.337-1.593c0.058-0.072 0.097-0.159 0.106-0.251 0.174-1.424 0.83-2.766 1.844-3.78l8.039-8.034 2.718 2.718-8.039 8.034z"}),e.createElementVNode("path",{d:"M5.804 24.979c-0.275 0.328-1.651 2.023-1.651 2.998 0 1.115 0.908 2.023 2.018 2.023 1.115 0 2.023-0.908 2.023-2.023 0-0.975-1.376-2.67-1.651-2.998-0.183-0.222-0.555-0.222-0.739 0z"})],-1),rl={style:{"flex-grow":"1",display:"flex","flex-direction":"column",gap:"calc(var(--margin-top) * 1.85)"}},cl={id:"ck-cp-target-background"},il={key:1,class:"ck-cp-input-container"},dl={key:3,class:"ck-cp-buttons"},ul=e.defineComponent({__name:"Vue3ColorPicker",props:{modelValue:{default:"",type:String},mode:{default:"gradient",type:String},type:{default:"HEX8",type:String},inputType:{default:"RGB",type:String},theme:{default:"light",type:String},colorListCount:{default:15,type:Number},showColorList:{default:!0,type:Boolean},showEyeDrop:{default:!0,type:Boolean},showPickerMode:{default:!0,type:Boolean},showAlpha:{default:!0,type:Boolean},showInputMenu:{default:!0,type:Boolean},showInputSet:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},gradientMode:{default:"linear",type:String},local:{default:{angle:"",positionX:"",positionY:"",customSize:!1,sizeX:"",sizeY:"",solid:"",gradient:"",linear:"",radial:"",colorPalette:"",btnSaveLabel:"Save",btnCancelLabel:"Cancel"},type:Object},iconClasses:{default:{linear:"",radial:"",ruler:"",eyeDroper:"",inputMenu:"",save:"",delete:""},type:Object},showButtons:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:m}){const c=a,s=e.ref(null),r=m,i=e.ref(c.mode),f=e.ref(c.modelValue),y=e.ref(c.modelValue),V=n=>{f.value=n,c.showButtons||(y.value=n,r("update:modelValue",n))},o=e.ref([{id:1,r:68,g:71,b:119,a:100,percent:0,hue:0,select:!0},{id:2,r:0,g:0,b:255,a:100,percent:100,hue:0,select:!1}]),u=e.ref(!1),h=e.ref(c.gradientMode),B=e.reactive({angle:90,percentageX:50,percentageY:50,customSize:!1,percentageSizeX:50,percentageSizeY:50}),X=e.ref(""),S=e.ref(c.inputType),A=e.ref(!1),pe=e.ref(),Q=e.ref(),O=e.ref(),Y=e.ref(),x=e.ref(),I=e.reactive({h:0,s:0,l:0}),E=e.reactive({h:0,s:0,v:0}),$=e.reactive({c:0,m:0,y:0,k:0});e.provide("gradientBar",Q),e.provide("canvas",O),e.provide("pickerWrap",Y),e.provide("pickerPointer",x),e.provide("opacitySlider",pe);let F=0,W=0,me=0,ge=0,j=0,Z=0;const pl=n=>{!Y.value||!x.value||(j=Y.value.offsetHeight-x.value.offsetHeight,Z=Y.value.offsetWidth-x.value.offsetWidth,me=n.clientX-n.target.getBoundingClientRect().left,ge=n.clientY-n.target.getBoundingClientRect().top,F=me-x.value.offsetWidth/2,W=ge-x.value.offsetHeight/2,x.value.style.left=`${F}px`,x.value.style.top=`${W}px`,ae(!1),q(),window.addEventListener("mousemove",he),window.addEventListener("mouseup",fe))},he=n=>{n.preventDefault();const t=Y.value.getBoundingClientRect(),l=n.clientX-t.left-x.value.offsetWidth/2,d=n.clientY-t.top-x.value.offsetHeight/2;l>=0&&l<=Z?(F=l,x.value.style.left=`${l}px`):0>l?(F=0,x.value.style.left="0px"):l>Z&&(F=Z,x.value.style.left=`${Z}px`),d>=0&&d<=j?(W=d,x.value.style.top=`${d}px`):0>d?(W=0,x.value.style.top="0px"):d>j&&(W=j,x.value.style.top=`${j}px`),ae(!1),q()},fe=()=>{window.removeEventListener("mousemove",he),window.removeEventListener("mouseup",fe)},ae=n=>{if(!n){let t=ml();const l=ue(T.value,t.s,t.l);if(l){if(A.value){let d=o.value.find(p=>p.select==!0);d&&(d.r=l.r,d.g=l.g,d.b=l.b)}v(),M()}}},T=e.ref(0),oe=async n=>{const{rgb:t}=ie(T.value,100,50);Ne(t),setTimeout(()=>{ae(n),q()},0)},ml=()=>{let n={s:0,l:0},t=Y.value.offsetWidth-x.value.offsetWidth,l=Y.value.offsetHeight-x.value.offsetHeight,d=parseInt(x.value.style.left),g=1-parseInt(x.value.style.top)/l,N=d/t;return n.l=g/2*(2-N),n.s=g*N/(1-Math.abs(2*n.l-1)),Number.isNaN(n.s)&&(n.s=n.l),n.l=n.l>1?1:n.l,n.s=n.s>1?1:n.s,n},K=()=>{const n=o.value.find(t=>t.select==!0);if(n){const{l:t,s:l}=de(n.r,n.g,n.b);let d=t,p=l;Number.isNaN(p)&&(p=d);let g={x:0,y:0},N=Y.value.offsetWidth-x.value.offsetWidth,w=Y.value.offsetHeight-x.value.offsetHeight;const[C,k]=2*d-1<0?[N*2*p/(1+p),w*(1-d*(1+p))]:[-N*2*(d-1)*p/(d+p-d*p),w*(d-1)*(p-1)];return g.x=C,g.y=k,g}else return null},gl=()=>{const n=o.value.find(t=>t.select==!0);n&&(n.hue=T.value)},G=e.ref(100),hl=n=>{if(c.showAlpha){const t=n.target,l=o.value.find(d=>d.select==!0);l&&(l.a=parseInt(t.value),M())}},fl=n=>{var l,d,p,g;const t=(d=(l=s.value)==null?void 0:l.querySelector(".gradient-handle-content"))==null?void 0:d.getBoundingClientRect();return n===0?"0px":n===100&&t?`${(((p=Q.value)==null?void 0:p.offsetWidth)||0)-(t.width||0)}px`:`${(((g=Q.value)==null?void 0:g.offsetWidth)||0)*(n/100)-((t==null?void 0:t.width)||0)/2}px`};let L=null,D=null;const ke=n=>{var d,p;const l=n.target.offsetParent;if((d=l==null?void 0:l.id)!=null&&d.includes("clr-gb-")){const g=l.id.replace("clr-gb-","");D=l;const N=o.value.find(w=>w.select==!0);if(N&&N.id!=g){const w=(p=s.value)==null?void 0:p.querySelector(".gradient-handle.select");w==null||w.classList.remove("select"),l.classList.add("select");const C=o.value.findIndex(k=>k.select==!0);for(let k=0;k<o.value.length;k++){const b=o.value[k];if(b.id==g){C!=-1&&(o.value[C].select=!1),o.value[k].select=!0,G.value=b.a,R(b.r,b.g,b.b,b.hue,!0),v(),q();break}}}window.addEventListener("mousemove",ye),window.addEventListener("mouseup",kl)}},kl=()=>{window.removeEventListener("mousemove",ye),window.removeEventListener("mouseup",ke)},ye=n=>{var g,N;n.preventDefault();const t=(N=(g=s.value)==null?void 0:g.querySelector(".gradient-handle-content"))==null?void 0:N.getBoundingClientRect(),l=L==null?void 0:L.getBoundingClientRect(),d=(l==null?void 0:l.width)-(t==null?void 0:t.width);let p=n.clientX-((l==null?void 0:l.left)||0)-((t==null?void 0:t.width)||0)/2;if(p<0?p=0:p>d&&(p=d),D){D.style.left=`${p}px`;const w=parseFloat((p/((l==null?void 0:l.width)-(t==null?void 0:t.width))*100).toFixed(0)),C=o.value.find(k=>k.id==(D==null?void 0:D.id.replace("clr-gb-","")));C&&(C.percent=w),M()}},yl=n=>{var w,C;const t=L==null?void 0:L.getBoundingClientRect(),l=Math.round((n.clientX-((t==null?void 0:t.left)||0))/((t==null?void 0:t.width)||1)*100),d=o.value.findIndex(k=>k.select==!0),p=o.value[d],g={id:Date.now(),r:p.r,g:p.g,b:p.b,a:p.a,percent:l,hue:p.hue,select:!0};o.value[d].select=!1;const N=(w=s.value)==null?void 0:w.querySelector(".gradient-handle.select");N==null||N.classList.remove("select"),o.value=[...o.value,g],Ve(g),D=(C=s.value)==null?void 0:C.querySelector(`#clr-gb-${g.id}`),M()},be=n=>{if(n.r==0&&n.g==0&&n.b==0)return!0;if(n.r==255&&n.g==255&&n.b==255)return!0;{const t=O.value.getContext("2d",{willReadFrequently:!0}),l=O.value.width,d=O.value.height,p=t.getImageData(0,0,l,d).data,g=n.r,N=n.g,w=n.b;for(let C=0;C<d;C++)for(let k=0;k<l;k++){const b=(C*l+k)*4,H=p[b],$l=p[b+1],El=p[b+2];if(H===g&&$l===N&&El===w)return!0}return!1}},R=(n,t,l,d,p)=>{setTimeout(()=>{if(be({r:n,g:t,b:l})){let g=K();g&&(x.value.style.left=`${g.x}px`,x.value.style.top=`${g.y}px`)}else{let g=K();g&&(x.value.style.left=`${g.x}px`,x.value.style.top=`${g.y}px`),T.value=d,oe(p)}},0)},Ce=()=>{o.value.forEach(l=>Ve(l)),bl();const n=o.value[0];T.value=n.hue,oe(!0);let t=K();t&&(x.value.style.left=`${t.x}px`,x.value.style.top=`${t.y}px`),v(),M()},Ve=n=>{if(i.value=="gradient"){let t=document.createElement("div");t.id=`clr-gb-${n.id}`,t.classList.add("gradient-handle"),t.style.left=fl(n.percent);let l=document.createElement("div");l.classList.add("gradient-handle-content"),n.select==!0&&t.classList.add("select"),t.appendChild(l),L&&L.appendChild(t)}},Ne=n=>{const t=O.value.getContext("2d",{willReadFrequently:!0}),l=O.value.width,d=O.value.height;t.fillStyle=`rgb(${n[0]},${n[1]},${n[2]})`,t.fillRect(0,0,l,d);let p=t.createLinearGradient(0,0,l-12,0);p.addColorStop(0,"rgb(255,255,255)"),p.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=p,t.fillRect(0,0,l,d);let g=t.createLinearGradient(0,0,0,d);g.addColorStop(0,"rgba(0,0,0,0)"),g.addColorStop(1,"rgb(0,0,0)"),t.fillStyle=g,t.fillRect(0,0,l,d)},v=()=>{if(c.showAlpha){let n=o.value.find(t=>t.select==!0);n&&(pe.value.style.background=` linear-gradient(90deg,rgba(255, 255, 255, 0) 0%, rgba(${n.r}, ${n.g}, ${n.b}, 100) 97%)`)}},M=()=>{var n;if(i.value=="gradient"){o.value.sort((p,g)=>p.percent-g.percent);let t="linear-gradient(90deg, ",l;if(h.value=="linear"){l=`linear-gradient(${B.angle}deg, `;for(let p=0;p<o.value.length;p++){const{r:g,g:N,b:w,a:C,percent:k}=o.value[p];o.value.length-1==p?(t=t+`rgba(${g},${N},${w},${C/100}) ${k}%)`,l=l+`rgba(${g},${N},${w},${C/100}) ${k}%)`):(t=t+`rgba(${g},${N},${w},${C/100}) ${k}%, `,l=l+`rgba(${g},${N},${w},${C/100}) ${k}%, `)}}else{B.customSize?l=`radial-gradient(${B.percentageSizeX}% ${B.percentageSizeY}% at ${B.percentageX}% ${B.percentageY}%, `:l=`radial-gradient(circle at ${B.percentageX}% ${B.percentageY}%, `;for(let p=0;p<o.value.length;p++){const{r:g,g:N,b:w,a:C,percent:k}=o.value[p];o.value.length-1==p?(t=t+`rgba(${g},${N},${w},${C/100}) ${k}%)`,l=l+`rgba(${g},${N},${w},${C/100}) ${k}%)`):(t=t+`rgba(${g},${N},${w},${C/100}) ${k}%, `,l=l+`rgba(${g},${N},${w},${C/100}) ${k}%, `)}}Q.value.style.backgroundImage=t;let d=(n=s.value)==null?void 0:n.querySelector("#ck-cp-target-background");d&&(d.style.backgroundImage=l,A.value&&V(d.style.backgroundImage))}else{const{r:t,g:l,b:d,a:p}=o.value[0];let g="";switch(c.type){case"HEX8":g=Ht(t,l,d,p/100);break;case"RGBA":g=`rgba(${t},${l},${d},${p/100})`;break;case"RGB":g=`rgb(${t},${l},${d})`;break;case"HEX":g=ne(t,l,d);break}A.value&&V(g)}},bl=()=>{o.value.forEach(n=>{n.hue=U(n.r,n.g,n.b)})},Cl=n=>{h.value=n,M()},we=()=>{var n,t;if(o.value.length>2){const l=o.value.findIndex(d=>d.select==!0);if(l!==-1){const d=o.value[l].id;o.value.splice(l,1);const p=(n=s.value)==null?void 0:n.querySelector(`#clr-gb-${d}`);p==null||p.remove();const g=o.value[0];g&&(g.select=!0,D=(t=s.value)==null?void 0:t.querySelector(`#clr-gb-${g.id}`),D==null||D.classList.add("select"),R(g.r,g.g,g.b,g.hue,!1),q(),M())}}},se=()=>{var l;const n=(l=s.value)==null?void 0:l.querySelector("#cp-btn-eyedropper");n==null||n.classList.add("active"),new EyeDropper().open().then(d=>{const{sRGBHex:p}=d,g=o.value.find(w=>w.select==!0),N=_(p);if(N){const w=U(N.r,N.g,N.b);if(g&&(g.hue=w,g.r=N.r,g.g=N.g,g.b=N.b),be(N)){const C=K();C&&(x.value.style.left=`${C.x}px`,x.value.style.top=`${C.y}px`)}else{T.value=w;const{rgb:C}=ie(w,100,50);Ne(C);const k=K();k&&(x.value.style.left=`${k.x}px`,x.value.style.top=`${k.y}px`)}q(),v(),M(),n==null||n.classList.remove("active")}}).catch(()=>{n==null||n.classList.remove("active")})},ee=(n,t)=>{if(t!="a"){const l=o.value.find(d=>d.select==!0);if(l){const d=U(l.r,l.g,l.b);l.hue=d,R(l.r,l.g,l.b,l.hue,!0),M(),v()}}else G.value=n,M(),v()},re=()=>{const n=o.value.find(t=>t.select==!0);if(n&&!Number.isNaN(I.h)&&!Number.isNaN(I.s)&&!Number.isNaN(I.l)){const{r:t,g:l,b:d}=ue(I.h,I.s/100,I.l/100);n.hue=I.h,n.r=t,n.g=l,n.b=d,R(n.r,n.g,n.b,n.hue,!0),M(),v()}},ce=()=>{const n=o.value.find(t=>t.select==!0);if(n&&!Number.isNaN(E.h)&&!Number.isNaN(E.s)&&!Number.isNaN(E.v)){const{r:t,g:l,b:d}=Tt(E.h,E.s/100,E.v/100),{h:p}=Pt(E.h,E.s/100,E.v/100);n.hue=p,n.r=t,n.g=l,n.b=d,R(n.r,n.g,n.b,n.hue,!0),M(),v()}},te=()=>{const n=o.value.find(t=>t.select==!0);if(n&&!Number.isNaN($.c)&&!Number.isNaN($.m)&&!Number.isNaN($.y)&&!Number.isNaN($.k)){const{r:t,g:l,b:d}=Ot($.c/100,$.m/100,$.y/100,$.k/100),p=U(t,l,d);n.hue=p,n.r=t,n.g=l,n.b=d,R(n.r,n.g,n.b,n.hue,!0),M(),v()}},Vl=()=>{if(X.value){const n=_(X.value);if(n){const t=U(n.r,n.g,n.b),l=o.value.find(d=>d.select==!0);l&&(l.r=n.r,l.g=n.g,l.b=n.b,l.hue=t,R(n.r,n.g,n.b,l.hue,!0),M(),v(),J(S.value))}}},q=()=>{const n=o.value.find(t=>t.select==!0);n&&(X.value=ne(n.r,n.g,n.b).toUpperCase()),J(S.value)},Nl=n=>{X.value=n;let t=_(X.value);if(t){const l=U(t.r,t.g,t.b),d=o.value.find(p=>p.select==!0);d&&(d.r=t.r,d.g=t.g,d.b=t.b,d.hue=l,R(t.r,t.g,t.b,d.hue,!0),M(),v())}};window.EyeDropper&&(u.value=!0);const wl=(n="")=>{if(i.value=="gradient"){let t=n?n.includes("linear-gradient")?"linear":"radial":c.gradientMode,l=[];if(h.value=t,t=="linear"){let d=/^linear-gradient\((.*)\)$/,p=n.replace(";","").trim().match(d),g=/,\s*(?![^()]*\))/;if(p){let N=p[1].split(g);for(let w=0;w<N.length;w++){const C=N[w];let k={id:w,r:0,g:0,b:0,a:100,percent:100,hue:0,select:!1};if(C.includes("deg"))B.angle=parseInt(C.replace("deg",""));else if(C.includes("rgba")){let b=C.trim().replace(/rgba|\(|\)|%/g,"").replace(/,/g," ").split(" ");b=b.filter(H=>H.trim()!==""),k.r=parseInt(b[0]),k.g=parseInt(b[1]),k.b=parseInt(b[2]),k.a=parseFloat(b[3])*100,k.percent=parseInt(b[4]),l.push(k)}else if(C.includes("rgb")){let b=C.trim().replace(/rgb|\(|\)|%/g,"").replace(/,/g," ").split(" ");b=b.filter(H=>H.trim()!==""),k.r=parseInt(b[0]),k.g=parseInt(b[1]),k.b=parseInt(b[2]),k.percent=parseInt(b[3]),l.push(k)}}}}else{let d=/^radial-gradient\((.*)\)$/,p=n.replace(";","").trim().match(d),g=/,\s*(?![^()]*\))/;if(p){let N=p[1].split(g);for(let w=0;w<N.length;w++){const C=N[w];let k={id:w,r:0,g:0,b:0,a:100,percent:100,hue:0,select:!1};if(C.includes("circle at")){console.log(C);let b=C.replace("circle at ","").replace(" ","").replace(/%/g," ").trim().split(" ");B.percentageX=parseInt(b[0]),B.percentageY=parseInt(b[1])}else if(C.includes("at")){let b=C.replace(" at ","").replace(/ /g,"").trim().split("%");B.percentageSizeX=parseInt(b[0]),B.percentageSizeY=parseInt(b[1]),B.percentageX=parseInt(b[2]),B.percentageY=parseInt(b[3]),B.customSize=!0}else if(C.includes("rgba")){let b=C.replace(/rgba|\(|\)|%/g,"").replace(/,/g," ").split(" ");b=b.filter(H=>H.trim()!==""),k.r=parseInt(b[0]),k.g=parseInt(b[1]),k.b=parseInt(b[2]),k.a=parseFloat(b[3])*100,k.percent=parseInt(b[4]),l.push(k)}else if(C.includes("rgb")){let b=C.replace(/rgb|\(|\)|%/g,"").replace(/,/g," ").split(" ");b=b.filter(H=>H.trim()!==""),k.r=parseInt(b[0]),k.g=parseInt(b[1]),k.b=parseInt(b[2]),k.percent=parseInt(b[3]),l.push(k)}}}}l.length>1&&(o.value=l,o.value[0].select=!0,G.value=o.value[0].a)}else if(n){let t={r:0,g:0,b:0,a:0};if(n.includes("#"))if(n.length>=8)t=Yt(n);else{let l=_(n);l?(t.a=1,t.r=l.r,t.g=l.g,t.b=l.b):t=null}else if(n.includes("rgb"))if(n.includes("rgba"))t=vt(n);else{let l=Dt(n);l?(t.a=1,t.r=l.r,t.g=l.g,t.b=l.b):t=null}t&&(o.value[0].r=t.r,o.value[0].b=t.b,o.value[0].g=t.g,o.value[0].a=parseInt((t.a*100).toFixed(0)),G.value=o.value[0].a,o.value[0].hue=0)}},J=n=>{const t=o.value.find(l=>l.select==!0);if(t){switch(n){case"RGB":break;case"HSL":{const{h:l,s:d,l:p}=de(t.r,t.g,t.b);I.h=Math.round(l),I.s=Math.round(d*100),I.l=Math.round(p*100);break}case"HSV":{const{h:l,s:d,v:p}=Rt(t.r,t.g,t.b);E.h=Math.round(l),E.s=Math.round(d*100),E.v=Math.round(p*100);break}case"CMYK":{const{c:l,m:d,y:p,k:g}=Ut(t.r,t.g,t.b);$.c=Math.round(l*100),$.m=Math.round(d*100),$.y=Math.round(p*100),$.k=Math.round(g*100)}break}S.value=n}},Bl=n=>{i.value=n,setTimeout(()=>{var t;i.value=="gradient"&&(L=(t=s.value)==null?void 0:t.querySelector(".gradient-bar")),le(c.modelValue),J(S.value)},0)},le=n=>{n&&wl(n),Ce()},xl=()=>{y.value=f.value,r("update:modelValue",y.value)},Be=()=>{o.value.forEach(n=>{const t=L==null?void 0:L.querySelector(`#clr-gb-${n.id}`);t==null||t.remove()})},Sl=()=>{f.value=y.value,Be(),le(f.value)};return e.watch(()=>c.modelValue,(n,t)=>{n!==t&&n!==y.value&&(Be(),le(n))}),e.onMounted(()=>{var n;i.value=="gradient"&&(L=(n=s.value)==null?void 0:n.querySelector(".gradient-bar")),le(c.modelValue),J(S.value),A.value=!0}),(n,t)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["ck-cp-container",a.disabled?"ck-cp-disabled ":""]),ref_key:"pickerTemplateRef",ref:s,"cp-theme":a.theme},[e.createVNode(ft,{angle:B.angle,"onUpdate:angle":t[0]||(t[0]=l=>B.angle=l),percentageX:B.percentageX,"onUpdate:percentageX":t[1]||(t[1]=l=>B.percentageX=l),percentageY:B.percentageY,"onUpdate:percentageY":t[2]||(t[2]=l=>B.percentageY=l),percentageSizeX:B.percentageSizeX,"onUpdate:percentageSizeX":t[3]||(t[3]=l=>B.percentageSizeX=l),percentageSizeY:B.percentageSizeY,"onUpdate:percentageSizeY":t[4]||(t[4]=l=>B.percentageSizeY=l),customSize:B.customSize,"onUpdate:customSize":t[5]||(t[5]=l=>B.customSize=l),local:a.local,iconClasses:a.iconClasses,inputType:S.value,mode:i.value,showInputMenu:a.showInputMenu,gradientType:h.value,showPickerMode:a.showPickerMode,onOnChangeMode:Cl,onOnInput:M,onOnClickEyeDropper:se,onOnDeleteColor:we,onOnChangeInputType:J,onOnPickerChangeMode:Bl},null,8,["angle","percentageX","percentageY","percentageSizeX","percentageSizeY","customSize","local","iconClasses","inputType","mode","showInputMenu","gradientType","showPickerMode"]),e.createVNode(bt,{onOnMouseDown:pl}),i.value=="gradient"?(e.openBlock(),e.createElementBlock("div",ll,[e.createElementVNode("button",{type:"button",class:"cp-main-btn",onClick:we},[a.iconClasses.delete?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(a.iconClasses.delete)},null,2)):(e.openBlock(),e.createElementBlock("svg",nl,al))]),e.createVNode(kt,{onOnAddColor:yl,onOnMouseDown:ke})])):e.createCommentVNode("",!0),e.createElementVNode("div",ol,[u.value&&a.showEyeDrop?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",id:"cp-btn-eyedropper",class:"cp-main-btn",onClick:se},[a.iconClasses.eyeDroper?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(a.iconClasses.eyeDroper)},null,2)):e.createCommentVNode("",!0),sl])):e.createCommentVNode("",!0),e.createElementVNode("div",rl,[e.createVNode(Nt,{modelValue:T.value,"onUpdate:modelValue":t[6]||(t[6]=l=>T.value=l),showEyeDrop:a.showEyeDrop,isEyeDropperUsing:u.value,onOnInput:t[7]||(t[7]=l=>oe(!1)),onOnChange:gl,onOnClickEyeDropper:se},null,8,["modelValue","showEyeDrop","isEyeDropperUsing"]),a.showAlpha?(e.openBlock(),e.createBlock(xt,{key:0,modelValue:G.value,"onUpdate:modelValue":t[8]||(t[8]=l=>G.value=l),onOnInput:hl},null,8,["modelValue"])):e.createCommentVNode("",!0)])]),e.withDirectives(e.createElementVNode("div",cl,null,512),[[e.vShow,!1]]),A.value&&a.showInputSet?(e.openBlock(),e.createElementBlock("div",il,[S.value!=="CMYK"?(e.openBlock(),e.createBlock(Lt,{key:0,modelValue:X.value,"onUpdate:modelValue":[t[9]||(t[9]=l=>X.value=l),Vl]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="RGB"?(e.openBlock(),e.createBlock(z,{key:1,label:"R",min:0,max:255,modelValue:o.value.find(l=>l.select==!0).r,"onUpdate:modelValue":[t[10]||(t[10]=l=>o.value.find(d=>d.select==!0).r=l),t[11]||(t[11]=l=>ee(l,"r"))]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="RGB"?(e.openBlock(),e.createBlock(z,{key:2,label:"G",min:0,max:255,modelValue:o.value.find(l=>l.select==!0).g,"onUpdate:modelValue":[t[12]||(t[12]=l=>o.value.find(d=>d.select==!0).g=l),t[13]||(t[13]=l=>ee(l,"g"))]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="RGB"?(e.openBlock(),e.createBlock(z,{key:3,label:"B",min:0,max:255,modelValue:o.value.find(l=>l.select==!0).b,"onUpdate:modelValue":[t[14]||(t[14]=l=>o.value.find(d=>d.select==!0).b=l),t[15]||(t[15]=l=>ee(l,"b"))]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="HSL"?(e.openBlock(),e.createBlock(z,{key:4,label:"H",min:0,max:360,modelValue:I.h,"onUpdate:modelValue":[t[16]||(t[16]=l=>I.h=l),re]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="HSL"?(e.openBlock(),e.createBlock(z,{key:5,label:"S",min:0,max:100,modelValue:I.s,"onUpdate:modelValue":[t[17]||(t[17]=l=>I.s=l),re]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="HSL"?(e.openBlock(),e.createBlock(z,{key:6,label:"L",min:0,max:100,modelValue:I.l,"onUpdate:modelValue":[t[18]||(t[18]=l=>I.l=l),re]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="HSV"?(e.openBlock(),e.createBlock(z,{key:7,label:"H",min:0,max:360,modelValue:E.h,"onUpdate:modelValue":[t[19]||(t[19]=l=>E.h=l),ce]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="HSV"?(e.openBlock(),e.createBlock(z,{key:8,label:"S",min:0,max:100,modelValue:E.s,"onUpdate:modelValue":[t[20]||(t[20]=l=>E.s=l),ce]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="HSV"?(e.openBlock(),e.createBlock(z,{key:9,label:"V",min:0,max:100,modelValue:E.v,"onUpdate:modelValue":[t[21]||(t[21]=l=>E.v=l),ce]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="CMYK"?(e.openBlock(),e.createBlock(z,{key:10,label:"C",min:0,max:100,modelValue:$.c,"onUpdate:modelValue":[t[22]||(t[22]=l=>$.c=l),te]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="CMYK"?(e.openBlock(),e.createBlock(z,{key:11,label:"M",min:0,max:100,modelValue:$.m,"onUpdate:modelValue":[t[23]||(t[23]=l=>$.m=l),te]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="CMYK"?(e.openBlock(),e.createBlock(z,{key:12,label:"Y",min:0,max:100,modelValue:$.y,"onUpdate:modelValue":[t[24]||(t[24]=l=>$.y=l),te]},null,8,["modelValue"])):e.createCommentVNode("",!0),S.value=="CMYK"?(e.openBlock(),e.createBlock(z,{key:13,label:"K",min:0,max:100,modelValue:$.k,"onUpdate:modelValue":[t[25]||(t[25]=l=>$.k=l),te]},null,8,["modelValue"])):e.createCommentVNode("",!0),a.showAlpha?(e.openBlock(),e.createBlock(z,{key:14,label:"A",min:0,max:100,style:{"margin-right":"2px"},modelValue:o.value.find(l=>l.select==!0).a,"onUpdate:modelValue":[t[26]||(t[26]=l=>o.value.find(d=>d.select==!0).a=l),t[27]||(t[27]=l=>ee(l,"a"))]},null,8,["modelValue"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),a.showColorList?(e.openBlock(),e.createBlock(el,{key:2,"color-list-count":a.colorListCount,"hex-val":X.value,onColorItemClick:Nl,iconClasses:a.iconClasses,title:a.local.colorPalette},null,8,["color-list-count","hex-val","iconClasses","title"])):e.createCommentVNode("",!0),a.showButtons?(e.openBlock(),e.createElementBlock("div",dl,[e.createElementVNode("button",{class:"ck-cp-buttons__button ck-cp-buttons__button--save",type:"button",onClick:xl},e.toDisplayString(a.local.btnSaveLabel),1),e.createElementVNode("button",{class:"ck-cp-buttons__button ck-cp-buttons__button--cancel",type:"button",onClick:Sl},e.toDisplayString(a.local.btnCancelLabel),1)])):e.createCommentVNode("",!0)],10,tl))}});P.Vue3ColorPicker=ul,Object.defineProperty(P,Symbol.toStringTag,{value:"Module"})});
